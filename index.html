<!DOCTYPE html>
<html lang="pa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Punjabi Calligraphy App</title>

<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Gurmukhi&family=Noto+Sans+Gurmukhi&family=Baloo+Paaji+2&family=Mukta+Mahee&family=Langar&family=Tiro+Gurmukhi&family=Anek+Gurmukhi&family=Changa&display=swap" rel="stylesheet">

<style>
@font-face{font-family:"Raavi";src:url("raavi.ttf");}
@font-face{font-family:"Prabhki";src:url("Prabhki.ttf");}
@font-face{font-family:"Gurblip";src:url("Gurblip.ttf");}

body{
  margin:0;
  font-family:sans-serif;
  background:linear-gradient(135deg,#e6ddff,#ffffff);
  text-align:center;
}
header{
  background:#5a2ca0;
  color:white;
  padding:12px;
  font-size:20px;
}
.controls{padding:10px;}
textarea{
  width:95%;
  height:70px;
  font-size:18px;
  border-radius:8px;
  border:2px solid #5a2ca0;
  padding:8px;
}
select,input,button{
  margin:4px;
  padding:7px 10px;
  border-radius:8px;
  border:none;
  font-size:14px;
}
button{background:#5a2ca0;color:white;}
canvas{
  margin-top:10px;
  border-radius:12px;
  background:white;
}
</style>
</head>

<body>

<header>Punjabi Calligraphy App</header>

<div class="controls">

<textarea id="textInput" placeholder="ਇੱਥੇ ਪੰਜਾਬੀ ਲਿਖੋ..."></textarea><br>

<select id="fontSelect">
  <option value="Raavi">Raavi</option>
  <option value="Prabhki">Prabhki</option>
  <option value="Gurblip">Gurblip</option>
  <option value="Noto Serif Gurmukhi">Noto Serif Gurmukhi</option>
  <option value="Noto Sans Gurmukhi">Noto Sans Gurmukhi</option>
  <option value="Baloo Paaji 2">Baloo Paaji 2</option>
  <option value="Mukta Mahee">Mukta Mahee</option>
  <option value="Langar">Langar</option>
  <option value="Tiro Gurmukhi">Tiro Gurmukhi</option>
  <option value="Anek Gurmukhi">Anek Gurmukhi</option>
  <option value="Changa">Changa</option>
</select>

<input type="color" id="textColor" value="#000000">
<input type="color" id="bgColor" value="#ffffff"><br>

Font Size:
<input type="range" id="fontSize" min="20" max="150" value="60"><br>

Word Art:
<select id="artStyle">
  <option value="normal">Normal</option>
  <option value="gradient">Gradient</option>
  <option value="glow">Glow</option>
  <option value="curve">Curve</option>
</select><br>

<button onclick="toggleBold()">Bold</button>
<button onclick="toggleUnderline()">Underline</button><br>

Border Color:
<input type="color" id="borderColor" value="#000000">

Border Size:
<input type="range" id="borderSize" min="0" max="20" value="4">

<select id="borderStyle">
  <option value="single">Single</option>
  <option value="double">Double</option>
  <option value="triple">Triple</option>
</select><br>

<button onclick="drawText()">Convert</button>
<button onclick="clearCanvas()">Delete</button>
<button onclick="saveImage()">Save</button>
<button onclick="shareImage()">Share</button><br>

<button onclick="zoomIn()">Zoom +</button>
<button onclick="zoomOut()">Zoom -</button>

</div>

<canvas id="canvas" width="350" height="350"></canvas>

<script>
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");

let scale=1;
let bold=false;
let underline=false;

function drawBorders(size,color,style){
  ctx.strokeStyle=color;
  ctx.lineWidth=size;
  if(style==="single"){
    ctx.strokeRect(0,0,canvas.width,canvas.height);
  }
  if(style==="double"){
    ctx.strokeRect(0,0,canvas.width,canvas.height);
    ctx.strokeRect(size*2,size*2,canvas.width-size*4,canvas.height-size*4);
  }
  if(style==="triple"){
    ctx.strokeRect(0,0,canvas.width,canvas.height);
    ctx.strokeRect(size*2,size*2,canvas.width-size*4,canvas.height-size*4);
    ctx.strokeRect(size*4,size*4,canvas.width-size*8,canvas.height-size*8);
  }
}

function drawText(){
  const text=textInput.value;
  const font=fontSelect.value;
  const tc=textColor.value;
  const bg=bgColor.value;
  const size=fontSize.value;
  const bc=borderColor.value;
  const bs=borderSize.value;
  const bst=borderStyle.value;
  const art=artStyle.value;

  ctx.setTransform(1,0,0,1,0,0);
  ctx.fillStyle=bg;
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.setTransform(scale,0,0,scale,0,0);

  let style="";
  if(bold) style="bold ";

  ctx.font=style+size+"px "+font;
  ctx.textAlign="center";
  ctx.textBaseline="middle";

  let x=canvas.width/2;
  let y=canvas.height/2;

  if(art==="gradient"){
    const g=ctx.createLinearGradient(0,0,canvas.width,0);
    g.addColorStop(0,"#ff0066");
    g.addColorStop(1,"#6a00ff");
    ctx.fillStyle=g;
  } else {
    ctx.fillStyle=tc;
  }

  if(art==="glow"){
    ctx.shadowColor=tc;
    ctx.shadowBlur=12;
  } else {
    ctx.shadowBlur=0;
  }

  if(art==="curve"){
    ctx.save();
    ctx.translate(x,y);
    const chars=text.split("");
    const radius=120;
    const angle=Math.PI/chars.length;
    let start=-angle*chars.length/2;
    for(let i=0;i<chars.length;i++){
      ctx.save();
      ctx.rotate(start+i*angle);
      ctx.fillText(chars[i],0,-radius);
      ctx.restore();
    }
    ctx.restore();
  } else {
    ctx.fillText(text,x,y);
  }

  if(underline){
    let w=ctx.measureText(text).width;
    let uy=y+size/2;
    ctx.beginPath();
    ctx.moveTo(x-w/2,uy);
    ctx.lineTo(x+w/2,uy);
    ctx.strokeStyle=tc;
    ctx.lineWidth=3;
    ctx.stroke();
  }

  if(bs>0){
    drawBorders(bs,bc,bst);
  }
}

function clearCanvas(){ctx.clearRect(0,0,canvas.width,canvas.height);}
function saveImage(){
  const a=document.createElement("a");
  a.download="punjabi.png";
  a.href=canvas.toDataURL();
  a.click();
}
function shareImage(){
  canvas.toBlob(blob=>{
    const file=new File([blob],"punjabi.png",{type:"image/png"});
    navigator.share({title:"Punjabi Calligraphy",files:[file]});
  });
}
function zoomIn(){scale+=0.1;drawText();}
function zoomOut(){if(scale>0.2){scale-=0.1;drawText();}}
function toggleBold(){bold=!bold;drawText();}
function toggleUnderline(){underline=!underline;drawText();}
</script>

</body>
</html>
